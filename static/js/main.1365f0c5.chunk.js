(this["webpackJsonpsyrup-tech-screener"]=this["webpackJsonpsyrup-tech-screener"]||[]).push([[0],{204:function(t,e,n){},206:function(t,e,n){},212:function(t,e,n){},213:function(t,e,n){"use strict";n.r(e);var a,r,o,i,c,l,s,u,d,p,f,b,h,j,g,v=n(0),m=n.n(v),x=n(9),y=n.n(x),O=(n(204),n(13)),k=n(5),T=(n(206),1200),w=600,C=50,S=40,_=50,F=80;function A(t,e,n){k.o("svg").remove(),h=e,j=n,g=t,a=k.o(t.current).append("svg").attr("width",T+F+S).attr("height",w+C+_).append("g").attr("transform","translate(".concat(F,", ").concat(C,")")),r=k.n().range([0,T]),o=k.m().range([w,0]),c=a.append("g").append("circle").style("fill","grey").attr("stroke","black").attr("r",4.5).style("opacity",0),s=k.c((function(t){return t.date})).left,l=k.o("body").append("div").attr("class","tooltip").style("opacity",0),l.append("div").attr("class","tooltip-date"),l.append("div").append("span").attr("class","tooltip-value"),n?(d=a.append("g").transition().duration(500).attr("transform","translate(0, ".concat(w,")")).attr("class","x-axis"),p=a.append("g").transition().duration(500).attr("class","y-axis")):(d=a.append("g").attr("transform","translate(0, ".concat(w,")")).attr("class","x-axis"),p=a.append("g").attr("class","y-axis")),function(t,e){if(i=k.j(t,(function(t){return+t.value})),r.domain(k.g(t,(function(t){return t.date}))),o.domain([0,i]),a.append("defs").append("svg:clipPath").attr("id","clip").append("svg:rect").attr("width",T).attr("height",w).attr("x",0).attr("y",0),b=k.d().extent([[0,0],[T,w]]).on("end",P),a.append("linearGradient").attr("id","line-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",o(0)).attr("x2",0).attr("y2",o(i)).selectAll("stop").data([{offset:"0%",color:"red"},{offset:"100%",color:"blue"}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color})),u=a.append("g").attr("clip-path","url(#clip)"),e){d.call(k.a(r)),p.call(k.b(o));var n=u.append("path").datum(t).attr("fill","none").attr("class","line").attr("stroke",e?"url(#line-gradient)":"steelblue").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",1.8).attr("d",k.i().x((function(t){return r(t.date)})).y((function(t){return o(t.value)}))),f=n.node().getTotalLength();n.attr("stroke-dash-offset",f).attr("stroke-dasharray",f).transition().duration(3500).ease(k.f).attrTween("stroke-dasharray",(function(){return k.h("0,".concat(f),"".concat(f,",").concat(f))})),a.append("g").attr("fill","none").attr("pointer-events","all").selectAll("rect").data(k.k(t)).join("rect").attr("x",(function(t){var e=Object(O.a)(t,2),n=e[0];e[1];return r(n.date)})).attr("height",w).attr("width",(function(t){var e=Object(O.a)(t,2),n=e[0],a=e[1];return r(a.date)-r(n.date)})).on("touchmove mousemove",(function(e){return function(t,e){var n=r.invert(k.l(t)[0]),a=s(e,n,1),i=e[a-1],u=e[a],d=n.getTime()-i.date.getTime()>u.date.getTime()-n.getTime()?u:i,p=d.date,f=d.value,b=r(p),h=o(f);l.style("opacity",.9),l.select(".tooltip-date").text(function(t){return t.toLocaleString("en",{month:"short",day:"numeric",year:"numeric",timeZone:"UTC"})}(p)),l.select(".tooltip-value").text(f.toFixed(2)),l.style("left","".concat(t.pageX,"px")).style("top","".concat(t.pageY,"px")),c.attr("cx",b).attr("cy",h).style("opacity",1)}(e,t)})).on("touchend mouseleave",L)}else d.transition().duration(1e3).call(k.a(r)),p.transition().duration(1e3).call(k.b(o)),u.append("path").datum(t).transition().duration(1e3).attr("fill","none").attr("class","line").attr("stroke",e?"url(#line-gradient)":"steelblue").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",1.8).attr("d",k.i().x((function(t){return r(t.date)})).y((function(t){return o(t.value)})));u.append("g").attr("class","brush").call(b)}(e,n)}function L(){c.style("opacity",0),l.style("opacity",0)}function P(t){var e=t.selection;if(e)r.domain([r.invert(e[0]),r.invert(e[1])]),u.select(".brush").call(b.move,null);else{if(!f)return f=setTimeout(G,350);r.domain([4,8])}d.transition().duration(1e3).call(k.a(r)),u.select(".line").transition().duration(1e3).attr("d",k.i().x((function(t){return r(t.date)})).y((function(t){return o(t.value)}))),a.on("dblclick",D)}function G(){f=null}function D(){A(g,h,j)}var E=n(58),I=n(214),R=n(238),U=n(239),B=n(241),J=n(245),z=n(240),M=n(246),N=n(248),V=n(247),X=n(3),Y=function(t){var e=t.options,n=t.handleClick,a=v.useState(!1),r=Object(O.a)(a,2),o=r[0],i=r[1],c=v.useRef(null),l=v.useState(0),s=Object(O.a)(l,2),u=s[0],d=s[1],p=function(t){c.current&&c.current.contains(t.target)||i(!1)};return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(R.a,{variant:"contained",color:"primary",ref:c,"aria-label":"split button",style:{margin:10},children:[Object(X.jsx)(I.a,{children:e[u].label}),Object(X.jsx)(I.a,{color:"primary",size:"small","aria-controls":o?"split-button-menu":void 0,"aria-expanded":o?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:function(){i((function(t){return!t}))},children:Object(X.jsx)(U.a,{children:"expand_more"})})]}),Object(X.jsx)(M.a,{open:o,anchorEl:c.current,role:void 0,transition:!0,disablePortal:!0,children:function(t){var a=t.TransitionProps,r=t.placement;return Object(X.jsx)(J.a,Object(E.a)(Object(E.a)({},a),{},{style:{transformOrigin:"bottom"===r?"center top":"center bottom"},children:Object(X.jsx)(z.a,{children:Object(X.jsx)(B.a,{onClickAway:p,children:Object(X.jsx)(V.a,{id:"split-button-menu",children:e.map((function(t,a){return Object(X.jsx)(N.a,{disabled:2===a,selected:a===u,onClick:function(){return function(t){d(t);var a=e[t];n(a.value),i(!1)}(a)},children:t.label},t.label)}))})})})}))}})]})},Z="total_rev",q="total_vol",H=[{label:"Total Revenue",value:"total_revenue"},{label:"Total Volume",value:"total_volume"}],K=[{label:"Tooltip and Animated Gradient",value:!0},{label:"Selectable Dates",value:!1}],Q=function(){var t=v.createRef(),e=v.useState("total_revenue"),n=Object(O.a)(e,2),a=n[0],r=n[1],o=v.useState(!0),i=Object(O.a)(o,2),c=i[0],l=i[1];v.useEffect((function(){k.e(",","".concat("/d3-task","/data/aggregated_stock_exchange.csv"),(function(t){return{date:new Date(t.date),value:"total_revenue"===a?+t[Z]:+t[q]}})).then((function(e){A(t,e,c)}))}));return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{id:"chart",ref:t}),Object(X.jsx)(Y,{handleClick:function(t){r(t)},options:H}),Object(X.jsx)(Y,{handleClick:function(t){l(t)},options:K})]})},W=n(244),$=n(242),tt=n(79),et=Object(tt.a)($.a)({flexGrow:1,backgroundColor:"whitesmoke",margin:0,padding:0,alignItems:"flex-start",height:10}),nt=Object(tt.a)("h3")({marginLeft:80});function at(){return Object(X.jsx)(W.a,{sx:{flexGrow:1},children:Object(X.jsx)(et,{children:Object(X.jsx)(nt,{children:"Syrup Screener"})})})}n(212);var rt=function(){return Object(X.jsxs)("div",{className:"App",children:[Object(X.jsx)(at,{}),Object(X.jsx)(Q,{})]})},ot=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,251)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),o(t),i(t)}))};y.a.render(Object(X.jsx)(m.a.StrictMode,{children:Object(X.jsx)(rt,{})}),document.getElementById("root")),ot()}},[[213,1,2]]]);
//# sourceMappingURL=main.1365f0c5.chunk.js.map