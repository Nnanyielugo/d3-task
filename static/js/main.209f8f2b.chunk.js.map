{"version":3,"sources":["Components/d3/index.ts","Components/SplitButton.tsx","Containers/Chart.tsx","Components/Header.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["svg","xAxis","yAxis","max","focus","tooltip","tpValue","bisect","line","drawX","drawY","idleTimeout","brush","graphData","showTPInteraction","parentNode","YALabel","WIDTH","HEIGHT","margin","create","node","data","showInteraction","yAxisLabel","d3","remove","current","append","attr","range","style","d","date","left","transition","duration","value","domain","text","extent","on","updateChart","selectAll","offset","color","enter","call","path","datum","x","y","pathLength","getTotalLength","ease","attrTween","join","a","b","evt","x0","invert","index","d0","d1","getTime","baseX","baseY","select","toLocaleString","month","day","year","timeZone","formatDate","formatMoney","formatNumber","pageX","pageY","moveFn","leaveFn","draw","selection","move","setTimeout","idled","reinitialize","SplitButton","options","handleClick","React","open","setOpen","anchorRef","selectedIndex","setSelectedIndex","handleClose","event","contains","target","ButtonGroup","variant","ref","Button","label","size","undefined","onClick","prevOpen","Icon","Popper","anchorEl","role","disablePortal","TransitionProps","placement","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","id","map","option","MenuItem","disabled","selected","selectedItem","handleMenuItemClick","valueMap","dataOptions","chartTypeOptions","Chart","chartType","setChartType","setShowInteraction","process","Date","then","inputType","CustomAppBar","styled","AppBar","flexGrow","backgroundColor","padding","alignItems","height","AppBarText","marginLeft","DownloadContainer","alignSelf","Header","Box","sx","Toolbar","savePdf","save","filename","App","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.209f8f2b.chunk.js","sourcesContent":["import * as d3 from 'd3';\nimport { formatMoney, formatNumber } from 'accounting';\nimport './index.css';\nimport type { ChartData, Margin, Ref } from '../../interfaces';\n\nconst WIDTH = 1200;\nconst HEIGHT = 600;\n\nconst margin: Margin = {\n  top: 50,\n  right: 40,\n  bottom: 50,\n  left: 80,\n};\n\ntype D3SVGSelection = d3.Selection<SVGGElement, unknown, null, undefined>;\ninterface D3BrushEvent {\n  selection: [number, number];\n}\nlet svg: D3SVGSelection;\nlet xAxis: d3.ScaleTime<number, number, never>;\nlet yAxis: d3.ScaleLinear<number, number, never>;\nlet max: number;\nlet focus: d3.Selection<SVGCircleElement, unknown, null, undefined>;\nlet tooltip: d3.Selection<HTMLDivElement, unknown, HTMLElement, any>;\nlet tpDate: d3.Selection<HTMLDivElement, unknown, HTMLElement, any>;\nlet tpValue: d3.Selection<HTMLDivElement, unknown, HTMLElement, any>;\nlet bisect: (\n  array: ArrayLike<ChartData>,\n  x: Date,\n  lo?: number | undefined,\n  hi?: number | undefined\n) => number;\nlet line: D3SVGSelection;\nlet drawX:\n  | D3SVGSelection\n  | d3.Transition<SVGGElement, unknown, null, undefined>;\nlet drawY:\n  | D3SVGSelection\n  | d3.Transition<SVGGElement, unknown, null, undefined>;\nlet idleTimeout: NodeJS.Timer | null;\nlet brush: any; // FIX ME\n\nlet graphData: ChartData[];\nlet showTPInteraction: boolean;\nlet parentNode: Ref;\nlet YALabel: string;\n\nexport function create(\n  node: Ref,\n  data: ChartData[],\n  showInteraction: boolean,\n  yAxisLabel: string\n) {\n  cleanup();\n  graphData = data;\n  showTPInteraction = showInteraction;\n  parentNode = node;\n  YALabel = yAxisLabel;\n  svg = d3\n    .select(node.current)\n    .append('svg')\n    .attr('width', WIDTH + margin.left + margin.right)\n    .attr('height', HEIGHT + margin.top + margin.bottom)\n    .append('g')\n    .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n  xAxis = d3.scaleTime().range([0, WIDTH]);\n\n  yAxis = d3.scaleLinear().range([HEIGHT, 0]);\n\n  focus = svg\n    .append('g')\n    .append('circle')\n    .style('fill', 'grey')\n    .attr('stroke', 'black')\n    .attr('r', 4.5)\n    .style('opacity', 0);\n\n  bisect = d3.bisector((d: ChartData) => d.date).left;\n\n  tooltip = d3\n    .select('body')\n    .append('div')\n    .attr('class', 'tooltip')\n    .style('opacity', 0);\n  tpDate = tooltip.append('div').attr('class', 'tooltip-date');\n  tpValue = tooltip.append('div');\n  tpValue.append('span').attr('class', 'tooltip-label');\n  tpValue.append('span').attr('class', 'tooltip-value');\n\n  if (showInteraction) {\n    drawX = svg\n      .append('g')\n      .transition()\n      .duration(500)\n      .attr('transform', `translate(0, ${HEIGHT})`)\n      .attr('class', 'x-axis');\n    drawY = svg.append('g').transition().duration(500).attr('class', 'y-axis');\n  } else {\n    drawX = svg\n      .append('g')\n      .attr('transform', `translate(0, ${HEIGHT})`)\n      .attr('class', 'x-axis');\n    drawY = svg.append('g').attr('class', 'y-axis');\n  }\n\n  draw(data, showInteraction);\n}\n\nfunction cleanup() {\n  d3.select('svg').remove();\n}\n\nfunction draw(data: ChartData[], showInteraction: boolean) {\n  max = d3.max(data, (d) => +d.value) as number;\n  xAxis.domain(\n    d3.extent(data, function (d) {\n      return d.date;\n    }) as unknown as Date[]\n  );\n  yAxis.domain([0, max]);\n\n  // add a clipPath: everything outside the clip path won't be drawn\n  svg\n    .append('defs')\n    .append('svg:clipPath')\n    .attr('id', 'clip')\n    .append('svg:rect')\n    .attr('width', WIDTH)\n    .attr('height', HEIGHT)\n    .attr('x', 0)\n    .attr('y', 0);\n\n  svg.append('g').append('text').attr('y', -10).attr('x', -20).text(YALabel);\n\n  brush = d3\n    .brushX()\n    .extent([\n      [0, 0],\n      [WIDTH, HEIGHT],\n    ]) // select entire graph area\n    .on('end', updateChart);\n\n  // set gradient\n  svg\n    .append('linearGradient')\n    .attr('id', 'line-gradient')\n    .attr('gradientUnits', 'userSpaceOnUse')\n    .attr('x1', 0)\n    .attr('y1', yAxis(0))\n    .attr('x2', 0)\n    .attr('y2', yAxis(max))\n    .selectAll('stop')\n    .data([\n      { offset: '0%', color: 'red' },\n      { offset: '100%', color: 'blue' },\n    ])\n    .enter()\n    .append('stop')\n    .attr('offset', (d) => d.offset)\n    .attr('stop-color', (d) => d.color);\n\n  line = svg.append('g').attr('clip-path', 'url(#clip)');\n\n  if (!showInteraction) {\n    drawX.transition().duration(1000).call(d3.axisBottom(xAxis));\n    drawY.transition().duration(1000).call(d3.axisLeft(yAxis));\n\n    line\n      .append('path')\n      .datum(data)\n      .transition()\n      .duration(1000)\n      .attr('fill', 'none')\n      .attr('class', 'line')\n      .attr('stroke', showInteraction ? 'url(#line-gradient)' : 'steelblue')\n      .attr('stroke-linejoin', 'round')\n      .attr('stroke-linecap', 'round')\n      .attr('stroke-width', 1.8)\n      .attr(\n        'd',\n        d3\n          .line<ChartData>()\n          .x((d) => xAxis(d.date))\n          .y((d) => yAxis(d.value))\n      );\n  } else {\n    drawX.call(d3.axisBottom(xAxis));\n\n    drawY.call(d3.axisLeft(yAxis));\n    const path = line\n      .append('path')\n      .datum(data)\n      .attr('fill', 'none')\n      .attr('class', 'line')\n      .attr('stroke', showInteraction ? 'url(#line-gradient)' : 'steelblue')\n      .attr('stroke-linejoin', 'round')\n      .attr('stroke-linecap', 'round')\n      .attr('stroke-width', 1.8)\n      .attr(\n        'd',\n        d3\n          .line<ChartData>()\n          .x((d) => xAxis(d.date))\n          .y((d) => yAxis(d.value))\n      );\n    const pathLength = path.node()!.getTotalLength();\n    // add transition\n    path\n      .attr('stroke-dash-offset', pathLength)\n      .attr('stroke-dasharray', pathLength)\n      .transition()\n      .duration(3500)\n      .ease(d3.easeSin)\n      .attrTween('stroke-dasharray', function () {\n        return d3.interpolate(`0,${pathLength}`, `${pathLength},${pathLength}`);\n      });\n\n    svg\n      .append('g')\n      .attr('fill', 'none')\n      .attr('pointer-events', 'all')\n      .selectAll('rect')\n      .data(d3.pairs(data))\n      .join('rect')\n      .attr('x', ([a, b]) => xAxis(a.date))\n      .attr('height', HEIGHT)\n      .attr('width', ([a, b]) => xAxis(b.date) - xAxis(a.date))\n      .on('touchmove mousemove', (evt: MouseEvent) => moveFn(evt, data))\n      .on('touchend mouseleave', leaveFn);\n  }\n  // add brushing\n  line.append('g').attr('class', 'brush').call(brush);\n}\n\nfunction moveFn(evt: MouseEvent, data: ChartData[]) {\n  const x0 = xAxis.invert(d3.pointer(evt)[0]);\n  const index = bisect(data, x0, 1);\n  const d0 = data[index - 1];\n  const d1 = data[index];\n  const d =\n    x0.getTime() - d0.date.getTime() > d1.date.getTime() - x0.getTime()\n      ? d1\n      : d0;\n  const { date, value } = d;\n\n  const baseX = xAxis(date);\n  const baseY = yAxis(value);\n\n  tooltip.style('opacity', 0.9);\n  tooltip.select('.tooltip-date').text(formatDate(date));\n  tooltip\n    .select('.tooltip-value')\n    .text(YALabel === '$' ? formatMoney(value) : formatNumber(value));\n  tooltip.select('.tooltip-label').text(YALabel);\n  tooltip.style('left', `${evt.pageX}px`).style('top', `${evt.pageY}px`);\n  focus.attr('cx', baseX).attr('cy', baseY).style('opacity', 1);\n}\n\nfunction leaveFn() {\n  focus.style('opacity', 0);\n  tooltip.style('opacity', 0);\n}\n\nfunction formatDate(date: Date) {\n  return date.toLocaleString('en', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n    timeZone: 'UTC',\n  });\n}\nfunction updateChart(evt: D3BrushEvent) {\n  // find selected boundaries\n  let extent = evt.selection;\n  // if no selection, back to initial coordinates\n  if (!extent) {\n    if (!idleTimeout) {\n      return (idleTimeout = setTimeout(idled, 350));\n    }\n    xAxis.domain([4, 8]);\n  } else {\n    xAxis.domain([xAxis.invert(extent[0]), xAxis.invert(extent[1])]);\n    line.select('.brush').call(brush.move, null);\n  }\n\n  drawX.transition().duration(1000).call(d3.axisBottom(xAxis));\n\n  line\n    .select('.line')\n    .transition()\n    .duration(1000)\n    .attr(\n      'd',\n      d3\n        .line()\n        .x((d: any) => xAxis(d.date))\n        .y((d: any) => yAxis(d.value)) as any\n    );\n  svg.on('dblclick', reinitialize);\n}\nfunction idled() {\n  idleTimeout = null;\n}\n\nfunction reinitialize() {\n  create(parentNode, graphData, showTPInteraction, YALabel);\n}\n","import * as React from 'react';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Icon from '@material-ui/core/Icon';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\n\nimport type { FunctionComponent } from 'react';\n\ninterface Options {\n  label: string;\n  value: string | boolean;\n}\ninterface AppProps {\n  options: Options[];\n  handleClick: (option: any) => void;\n}\nconst SplitButton: FunctionComponent<AppProps> = ({\n  options,\n  handleClick,\n}): JSX.Element => {\n  const [open, setOpen] = React.useState(false);\n  const anchorRef = React.useRef<HTMLDivElement>(null);\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n\n  const handleMenuItemClick = (index: number) => {\n    setSelectedIndex(index);\n    const selectedItem = options[index];\n    handleClick(selectedItem.value);\n    setOpen(false);\n  };\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event: React.MouseEvent<Document, MouseEvent>) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target as Node)) {\n      return;\n    }\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <ButtonGroup\n        variant=\"contained\"\n        color=\"primary\"\n        ref={anchorRef}\n        aria-label=\"split button\"\n        style={{ margin: 10 }}\n      >\n        <Button>{options[selectedIndex].label}</Button>\n        <Button\n          color=\"primary\"\n          size=\"small\"\n          aria-controls={open ? 'split-button-menu' : undefined}\n          aria-expanded={open ? 'true' : undefined}\n          aria-label=\"select merge strategy\"\n          aria-haspopup=\"menu\"\n          onClick={handleToggle}\n        >\n          <Icon>expand_more</Icon>\n        </Button>\n      </ButtonGroup>\n      <Popper\n        open={open}\n        anchorEl={anchorRef.current}\n        role={undefined}\n        transition\n        disablePortal\n      >\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{\n              transformOrigin:\n                placement === 'bottom' ? 'center top' : 'center bottom',\n            }}\n          >\n            <Paper>\n              <ClickAwayListener onClickAway={handleClose}>\n                <MenuList id=\"split-button-menu\">\n                  {options.map((option, index) => (\n                    <MenuItem\n                      key={option.label}\n                      disabled={index === 2}\n                      selected={index === selectedIndex}\n                      onClick={() => handleMenuItemClick(index)}\n                    >\n                      {option.label}\n                    </MenuItem>\n                  ))}\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </>\n  );\n};\n\nexport default SplitButton;\n","import * as React from 'react';\nimport * as d3 from 'd3';\n\nimport { create } from '../Components/d3';\nimport SplitButton from '../Components/SplitButton';\n\nimport type { Ref } from '../interfaces';\ninterface ChartData {\n  date: Date;\n  value: number;\n}\n\nconst valueMap = {\n  total_revenue: 'total_rev',\n  total_volume: 'total_vol',\n};\n\nconst dataOptions = [\n  { label: 'Total Revenue', value: 'total_revenue' },\n  { label: 'Total Volume', value: 'total_volume' },\n];\nconst chartTypeOptions = [\n  { label: 'Tooltip and Animated Gradient', value: true },\n  { label: 'Selectable Dates', value: false },\n];\n\ntype ChartType = 'total_revenue' | 'total_volume';\n\nconst Chart = () => {\n  const ref: Ref = React.createRef();\n  const [chartType, setChartType] = React.useState<ChartType>('total_revenue');\n  const [showInteraction, setShowInteraction] = React.useState(true);\n\n  React.useEffect(() => {\n    d3.dsv(\n      ',',\n      `${process.env.PUBLIC_URL}/data/aggregated_stock_exchange.csv`,\n      (d: any): ChartData => {\n        return {\n          date: new Date(d.date),\n          value:\n            chartType === 'total_revenue'\n              ? +d[valueMap.total_revenue]\n              : +d[valueMap.total_volume],\n        };\n      }\n    ).then((data: ChartData[]) => {\n      create(\n        ref,\n        data,\n        showInteraction,\n        chartType === 'total_revenue' ? '$' : 'N'\n      );\n    });\n  });\n\n  const handleChangeChartType = (inputType: ChartType) => {\n    setChartType(inputType);\n  };\n\n  const handleChangeInteraction = (inputType: boolean) => {\n    setShowInteraction(inputType);\n  };\n\n  return (\n    <>\n      <div id=\"chart\" ref={ref} />\n      <SplitButton handleClick={handleChangeChartType} options={dataOptions} />\n      <SplitButton\n        handleClick={handleChangeInteraction}\n        options={chartTypeOptions}\n      />\n    </>\n  );\n};\n\nexport default Chart;\n","import * as React from 'react';\nimport savePdf from 'd3-save-pdf';\nimport * as d3 from 'd3';\nimport Box from '@material-ui/core/Box';\nimport AppBar from '@material-ui/core/Toolbar';\nimport Toolbar from '@material-ui/core/Toolbar';\n\nimport { styled } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\n\nconst CustomAppBar = styled(AppBar)({\n  flexGrow: 1,\n  backgroundColor: 'whitesmoke',\n  margin: 0,\n  padding: 0,\n  alignItems: 'flex-start',\n  height: 10,\n});\n\nconst AppBarText = styled('h3')({\n  marginLeft: '10vw',\n});\n\nconst DownloadContainer = styled('div')({\n  alignSelf: 'center',\n  marginLeft: '60vw',\n});\n\nexport default function Header() {\n  const handleSavePdf = () => {\n    const config = {\n      filename: 'MySVGFile',\n    };\n    savePdf.save(d3.select('svg').node(), config);\n  };\n\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <CustomAppBar>\n        <Toolbar>\n          <AppBarText>Syrup Tech Screener</AppBarText>\n\n          <DownloadContainer>\n            <Button onClick={handleSavePdf} color=\"inherit\" size=\"small\">\n              <Icon>file_download</Icon>\n            </Button>\n          </DownloadContainer>\n        </Toolbar>\n      </CustomAppBar>\n    </Box>\n  );\n}\n","import React from 'react';\nimport Chart from './Containers/Chart';\nimport Header from './Components/Header';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Chart />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}