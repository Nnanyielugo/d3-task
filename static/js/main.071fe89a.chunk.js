(this["webpackJsonpsyrup-tech-screener"]=this["webpackJsonpsyrup-tech-screener"]||[]).push([[0],{162:function(t,e,n){},164:function(t,e,n){},166:function(t,e,n){},167:function(t,e,n){"use strict";n.r(e);var a,r,o,i,c,l,s,u,d,p,f,v,g,h,b,j=n(3),x=n.n(j),y=n(46),m=n.n(y),k=(n(162),n(2)),O=n(0),w=(n(164),1200),T=600,S=50,C=40,_=50,F=80;function L(t,e,n){O.o("svg").remove(),g=e,h=n,b=t,a=O.o(t.current).append("svg").attr("width",w+F+C).attr("height",T+S+_).append("g").attr("transform","translate(".concat(F,", ").concat(S,")")),r=O.n().range([0,w]),o=O.m().range([T,0]),c=a.append("g").append("circle").style("fill","grey").attr("stroke","black").attr("r",4.5).style("opacity",0),s=O.c((function(t){return t.date})).left,l=O.o("body").append("div").attr("class","tooltip").style("opacity",0),l.append("div").attr("class","tooltip-date"),l.append("div").append("span").attr("class","tooltip-value"),n?(d=a.append("g").transition().duration(500).attr("transform","translate(0, ".concat(T,")")).attr("class","x-axis"),p=a.append("g").transition().duration(500).attr("class","y-axis")):(d=a.append("g").attr("transform","translate(0, ".concat(T,")")).attr("class","x-axis"),p=a.append("g").attr("class","y-axis")),function(t,e){if(i=O.j(t,(function(t){return+t.value})),r.domain(O.g(t,(function(t){return t.date}))),o.domain([0,i]),a.append("defs").append("svg:clipPath").attr("id","clip").append("svg:rect").attr("width",w).attr("height",T).attr("x",0).attr("y",0),v=O.d().extent([[0,0],[w,T]]).on("end",P),a.append("linearGradient").attr("id","line-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",o(0)).attr("x2",0).attr("y2",o(i)).selectAll("stop").data([{offset:"0%",color:"red"},{offset:"100%",color:"blue"}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color})),u=a.append("g").attr("clip-path","url(#clip)"),e){d.call(O.a(r)),p.call(O.b(o));var n=u.append("path").datum(t).attr("fill","none").attr("class","line").attr("stroke",e?"url(#line-gradient)":"steelblue").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",1.8).attr("d",O.i().x((function(t){return r(t.date)})).y((function(t){return o(t.value)}))),f=n.node().getTotalLength();n.attr("stroke-dash-offset",f).attr("stroke-dasharray",f).transition().duration(3500).ease(O.f).attrTween("stroke-dasharray",(function(){return O.h("0,".concat(f),"".concat(f,",").concat(f))})),a.append("g").attr("fill","none").attr("pointer-events","all").selectAll("rect").data(O.k(t)).join("rect").attr("x",(function(t){var e=Object(k.a)(t,2),n=e[0];e[1];return r(n.date)})).attr("height",T).attr("width",(function(t){var e=Object(k.a)(t,2),n=e[0],a=e[1];return r(a.date)-r(n.date)})).on("touchmove mousemove",(function(e){return function(t,e){var n=r.invert(O.l(t)[0]),a=s(e,n,1),i=e[a-1],u=e[a],d=n.getTime()-i.date.getTime()>u.date.getTime()-n.getTime()?u:i,p=d.date,f=d.value,v=r(p),g=o(f);l.style("opacity",.9),l.select(".tooltip-date").text(function(t){return t.toLocaleString("en",{month:"short",day:"numeric",year:"numeric",timeZone:"UTC"})}(p)),l.select(".tooltip-value").text(f.toFixed(2)),l.style("left","".concat(t.pageX,"px")).style("top","".concat(t.pageY,"px")),c.attr("cx",v).attr("cy",g).style("opacity",1)}(e,t)})).on("touchend mouseleave",A)}else d.transition().duration(1e3).call(O.a(r)),p.transition().duration(1e3).call(O.b(o)),u.append("path").datum(t).transition().duration(1e3).attr("fill","none").attr("class","line").attr("stroke",e?"url(#line-gradient)":"steelblue").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",1.8).attr("d",O.i().x((function(t){return r(t.date)})).y((function(t){return o(t.value)})));u.append("g").attr("class","brush").call(v)}(e,n)}function A(){c.style("opacity",0),l.style("opacity",0)}function P(t){var e=t.selection;if(e)r.domain([r.invert(e[0]),r.invert(e[1])]),u.select(".brush").call(v.move,null);else{if(!f)return f=setTimeout(U,350);r.domain([4,8])}d.transition().duration(1e3).call(O.a(r)),u.select(".line").transition().duration(1e3).attr("d",O.i().x((function(t){return r(t.date)})).y((function(t){return o(t.value)}))),a.on("dblclick",B)}function U(){f=null}function B(){L(b,g,h)}var D=n(1),E=function(){var t=j.createRef(),e=j.useState("total_revenue"),n=Object(k.a)(e,2),a=n[0],r=n[1],o=j.useState(!0),i=Object(k.a)(o,2),c=i[0],l=i[1],s="total_rev",u="total_vol";j.useEffect((function(){O.e(",","".concat("/d3-task","/data/aggregated_stock_exchange.csv"),(function(t){return{date:new Date(t.date),value:"total_revenue"===a?+t[s]:+t[u]}})).then((function(e){L(t,e,c)}))}));var d=function(t){r(t)},p=function(t){l(t)};return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{id:"chart",ref:t}),Object(D.jsx)("button",{onClick:function(){return d("total_revenue")},children:"See total revenue"}),Object(D.jsx)("button",{onClick:function(){return d("total_volume")},children:"See total volume"}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{onClick:function(){return p(!0)},children:"Show Tooltip and animated gradient"}),Object(D.jsx)("button",{onClick:function(){return p(!1)},children:"Show selectable dates"})]})};n(166);var I=function(){return Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(E,{})})},J=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),o(t),i(t)}))};m.a.render(Object(D.jsx)(x.a.StrictMode,{children:Object(D.jsx)(I,{})}),document.getElementById("root")),J()}},[[167,1,2]]]);
//# sourceMappingURL=main.071fe89a.chunk.js.map